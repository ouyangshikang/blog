---
title: jsæ•°å€¼ç²¾åº¦é—®é¢˜åŠes6æ•°å€¼çš„æ‹“å±•
tags:
  - javascript

date: 2018-03-1 22:20:35
---
***
### jsçš„æ•°å€¼ç²¾åº¦é—®é¢˜
> åœ¨jså†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°é‡‡ç”¨åŒæ ·çš„å­˜å‚¨æ–¹æ³•(64ä½åŒç²¾åº¦æµ®ç‚¹æ•°)ï¼Œæ‰€ä»¥æœ‰``66 === 66.00``ã€‚

åœ¨æ¶‰åŠå°æ•°çš„è¿ç®—æ—¶è¦æ³¨æ„æ•°å€¼ç²¾åº¦çš„é—®é¢˜,ä¸¾ä¸ªäººå°½çš†çŸ¥çš„æ —å­ğŸŒ°
``` javascript
0.1 + 0.2 === 0.3 // false
0.1 + 0.2  // 0.30000000000000004
```
JavaScripté‡‡ç”¨å›½é™…æ ‡å‡† *IEEE 754*ï¼ŒJavaScriptæµ®ç‚¹æ•°çš„64ä¸ªäºŒè¿›åˆ¶ä½ï¼Œä»æœ€å·¦è¾¹å¼€å§‹ï¼Œæ˜¯è¿™æ ·ç»„æˆçš„:
- ç¬¬1ä½ï¼šç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°
- ç¬¬2ä½åˆ°ç¬¬12ä½(11)ï¼šæŒ‡æ•°éƒ¨åˆ†
- ç¬¬13ä½åˆ°ç¬¬64ä½(52)ï¼šå°æ•°éƒ¨åˆ†ï¼ˆå³æœ‰æ•ˆæ•°å­—ï¼‰

![](https://st-gdx.dancf.com/gaodingx/73047376/design/20200426-173521-8918.png)

- **``ç¬¦å·ä½``å†³å®šäº†ä¸€ä¸ªæ•°çš„æ­£è´Ÿï¼Œ``æŒ‡æ•°éƒ¨åˆ†``å†³å®šäº†æ•°å€¼çš„å¤§å°ï¼Œ``å°æ•°éƒ¨åˆ†``å†³å®šäº†æ•°å€¼çš„ç²¾åº¦**

> å›½é™…æ ‡å‡†IEEE 754 è§„å®šï¼Œæœ‰æ•ˆæ•°å­—ç¬¬ä¸€ä½é»˜è®¤æ€»æ˜¯1ï¼Œä¸ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰æ•ˆæ•°å­—æ€»æ˜¯``1.xx...xx``çš„å½¢å¼ï¼Œå…¶ä¸­xx..xxçš„éƒ¨åˆ†ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ï¼Œæœ€é•¿å¯èƒ½ä¸º52ä½ã€‚å› æ­¤ï¼ŒJavaScript æä¾›çš„æœ‰æ•ˆæ•°å­—æœ€é•¿ä¸º``53``ä¸ªäºŒè¿›åˆ¶ä½ã€‚

  æ‰€ä»¥ï¼Œä¸€ä¸ªæ•°åœ¨ JavaScript å†…éƒ¨å®é™…çš„è¡¨ç¤ºå½¢å¼ä¸º:
![](https://st-gdx.dancf.com/gaodingx/73047376/design/20200426-174023-4f23.png)

- ç²¾åº¦æœ€å¤šåªèƒ½åˆ°53ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿™æ„å‘³ç€ï¼Œç»å¯¹å€¼å°äº2çš„53æ¬¡æ–¹çš„æ•´æ•°ï¼Œå³**-(2^53-1) ~  2^53-1**ï¼Œéƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚
``` javascript
Math.pow(2, 53); // 9007199254740992
Math.pow(2, 53) + 1; //9007199254740992
Math.pow(2, 53) + 2;  // 9007199254740994
9007199254740992222 // 9007199254740992000
```
  å¤§äº2çš„53æ¬¡æ–¹åï¼Œè®¡ç®—ç»“æœå°±å¼€å§‹æ··ä¹±äº†ï¼Œæ— æ³•ä¿æŒç²¾åº¦,å¹¶ä¸”å¤šå‡ºçš„ä¸‰ä¸ªæœ‰æ•ˆä½æ— æ³•ä¿å­˜ï¼Œå˜æˆ0ã€‚

***
### ES6ä¸­2è¿›åˆ¶å’Œ8è¿›åˆ¶çš„è¡¨ç¤º
- äºŒè¿›åˆ¶æ•°å€¼ï¼šå‰ç¼€``0b/0B``
- å…«è¿›åˆ¶æ•°å€¼ï¼šå‰ç¼€``0o/0O``
``` javascript
console.log('äºŒè¿›åˆ¶è¡¨ç¤ºæ³•:', 0b00010 === 2); // true
console.log('å…«è¿›åˆ¶è¡¨ç¤ºæ³•:', 0o0340 === 224); // true
```
> å°†å„è¿›åˆ¶è½¬ä¸º10è¿›åˆ¶ç”¨Number()/ parseInt()æ–¹æ³•,å°†10è¿›åˆ¶è½¬åŒ–ä¸ºå„è¿›åˆ¶å¯ä»¥ç”¨toString(n)æ–¹æ³•

***
### Numberå¯¹è±¡æ‹“å±•
es6åœ¨Numberå¯¹è±¡ä¸Šï¼Œæ–°å¢äº†2ä¸ªæ–¹æ³•ã€‚
- **Number.isFinite()**   æ£€æŸ¥æ•°å€¼æ˜¯å¦æ˜¯æœ‰é™çš„ï¼Œå¦‚æœä¸æ˜¯æ•°å€¼ï¼Œè¿”å›false
``` javascript
console.log(Number.isFinite(15)); // true
console.log(Number.isFinite(true)); // false
console.log(Number.isFinite(0.8)); // true
console.log(Number.isFinite(NaN)); // false
console.log(Number.isFinite('string')); // false
console.log(Number.isFinite(Infinity)); // false
```

- **Number.isNaN()**   æ£€æµ‹æ•°å€¼æ˜¯å¦ä¸ºNaNï¼Œ å¦‚æœä¸æ˜¯æ•°å€¼ï¼Œä¹Ÿè¿”å›false
``` javascript
console.log(Number.isNaN(15)); // false
console.log(Number.isNaN(true)); // false
console.log(Number.isNaN('NaN')); // false
console.log(Number.isNaN(NaN)); // true
console.log(Number.isNaN(0.4)); // false
```
> å®ƒä»¬ä¸ä¼ ç»Ÿçš„å…¨å±€æ–¹æ³•***isFinite()***å’Œ***isNaN()***çš„åŒºåˆ«åœ¨äºï¼Œä¼ ç»Ÿæ–¹æ³•å…ˆè°ƒç”¨Number()å°†éæ•°å€¼çš„å€¼è½¬ä¸ºæ•°å€¼ï¼Œå†è¿›è¡Œåˆ¤æ–­ã€‚è€Œè¿™ä¸¤ä¸ªæ–°æ–¹æ³•``åªå¯¹æ•°å€¼æœ‰æ•ˆ``ã€‚ å…ˆè¿›è¡Œæ˜¯å¦æ˜¯æ•°å€¼çš„åˆ¤æ–­ï¼Œæ˜¯æ•°å€¼å†è¿›è¡Œå…·ä½“åˆ¤æ–­ã€‚

-  **ES6å°†å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šï¼Œå…¶ä»–éƒ½ä¿æŒä¸å˜**

- **Number.isInteger()** åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°
``` javascript
console.log(Number.isInteger(66)); // true
console.log(Number.isInteger(66.0)); // true
console.log(Number.isInteger(66.6)); // false
console.log(Number.isInteger(null)); // false
console.log(Number.isInteger('nice')); // false
```
- **Number.EPSILON**  å®ƒè¡¨ç¤º 1 ä¸å¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ä¹‹é—´çš„å·®å³2çš„-52æ¬¡æ–¹,è¿™æ˜¯``JavaScriptèƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å°ç²¾åº¦``
``` javascript
console.log(Number.EPSILON === Math.pow(2, -52)); // true
```